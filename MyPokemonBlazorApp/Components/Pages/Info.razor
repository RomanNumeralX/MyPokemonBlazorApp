@page "/Info/{id:int}"
@inject DatabaseContext DbContext

@if (pokemon is not null)
{
    <h3>@pokemon?.Name's Stats</h3>
    <p>@Id</p>
    <p>@pokemon?.Name</p>

 float health = (float)pokemon.Total * 100 / 780;
 health = (float)Math.Round(health, 2);

 float HP = (float)pokemon.HP * 100 / 255;
 HP = (float)Math.Round(HP, 2);

 float Attack = (float)pokemon.Attack * 100 / 190;
 Attack = (float)Math.Round(Attack, 2);

 float Defence = (float)pokemon.Defence * 100 / 230;
 Defence = (float)Math.Round(Defence, 2);

 float Speed = (float)pokemon.Speed * 100 / 180;
 Speed = (float)Math.Round(Speed, 2); @* percentages implemented *@


  @*  <img src="https://img.pokemondb.net/artwork/ @pokemon?.Name .jpg"/> *@

    <span>Health</span>
    <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="@pokemon.Total" aria-valuemin="1" aria-valuemax="780" style="height: 50px;">
        <div class="progress-bar bg-success" style="width: @(pokemon.Total*100/780)%; font-size : 16px; font-weight : bold; ">@health%</div>
    </div>

    <br />

    <span>Health Points</span>
    <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="@pokemon.HP" aria-valuemin="1" aria-valuemax="255" style="height: 50px;">
        <div class="progress-bar bg-info" style="width: @(pokemon.HP*100/255)%; font-size : 16px; font-weight : bold; ">@HP%</div>
    </div>

    <br />

    <span>Attack</span>
    <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="@pokemon.Attack" aria-valuemin="1" aria-valuemax="190" style="height: 50px;">
        <div class="progress-bar bg-warning" style="width: @(pokemon.Attack*100/190)%; font-size : 16px; font-weight : bold; ">@Attack%</div>
    </div>

    <br />

    <span>Defence</span>
    <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="@pokemon.Defence" aria-valuemin="1" aria-valuemax="230" style="height: 50px;">
        <div class="progress-bar bg-danger" style="width: @(pokemon.Defence*100/230)%; font-size : 16px; font-weight : bold; ">@Defence%</div>
    </div>

    <br />

    <span>Speed</span>
    <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="@pokemon.Speed" aria-valuemin="1" aria-valuemax="180" style="height: 50px;">
        <div class="progress-bar bg-mute" style="width: @(pokemon.Speed*100/180)%; font-size : 16px; font-weight : bold; ">@Speed%</div>
    </div>

}

else
{
    <h3>Pokemon with ID @Id not found!</h3>    
    <br />
    <p>Please try again with a valid ID.</p>
}



@code {
    [Parameter]
    public int Id { get; set; }
    private Pokemon pokemon;

    protected override void OnInitialized()
    {
            pokemon = DbContext.Pokemons.SingleOrDefault(p => p.Id == Id); @* finds pokemon where id links *@
    }

}
